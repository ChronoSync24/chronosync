{"ast":null,"code":"// import { apiClient } from '../utils/ApiClient';\n\nimport { apiClient } from '../utils/ApiClient';\nconst ENDPOINT_PREFIX = 'auth';\n\n/**\r\n * Logs in a user by sending a POST request with the provided credentials.\r\n * Upon successful authentication, the function stores the JWT token in the\r\n * localStorage to be used in subsequent authenticated requests.\r\n *\r\n * @param {LoginRequestDTO} credentials - The login credentials (username and password).\r\n * @returns {Promise<void>} - A Promise that resolves to `void`. The function doesn't return any value.\r\n *\r\n * @throws {Error} - Throws an error if the login fails. The error is logged to the console.\r\n */\nexport const login = async credentials => {\n  try {\n    console.log('triggered login');\n    console.log('api client: ', apiClient);\n    const response = await apiClient(`${ENDPOINT_PREFIX}/login`, {\n      method: 'POST',\n      body: credentials\n    });\n    localStorage.setItem('authToken', response.token);\n    console.log('Login successful, token stored.');\n  } catch (error) {\n    console.error('Login failed', error);\n    throw new Error('Login failed');\n  }\n};","map":{"version":3,"names":["apiClient","ENDPOINT_PREFIX","login","credentials","console","log","response","method","body","localStorage","setItem","token","error","Error"],"sources":["D:/Projects/ChronoSync/services/chronosync-fe/src/services/AuthService.ts"],"sourcesContent":["// import { apiClient } from '../utils/ApiClient';\r\nimport { LoginRequestDTO } from '../dtos/LoginRequestDTO';\r\nimport { apiClient } from '../utils/ApiClient';\r\n\r\nconst ENDPOINT_PREFIX = 'auth';\r\n\r\n/**\r\n * Logs in a user by sending a POST request with the provided credentials.\r\n * Upon successful authentication, the function stores the JWT token in the\r\n * localStorage to be used in subsequent authenticated requests.\r\n *\r\n * @param {LoginRequestDTO} credentials - The login credentials (username and password).\r\n * @returns {Promise<void>} - A Promise that resolves to `void`. The function doesn't return any value.\r\n *\r\n * @throws {Error} - Throws an error if the login fails. The error is logged to the console.\r\n */\r\nexport const login = async (credentials: LoginRequestDTO): Promise<void> => {\r\n\ttry {\r\n\t\tconsole.log('triggered login');\r\n\t\tconsole.log('api client: ', apiClient);\r\n\t\tconst response = await apiClient<{ token: string }>(`${ENDPOINT_PREFIX}/login`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: credentials,\r\n\t\t});\r\n\t\tlocalStorage.setItem('authToken', response.token);\r\n\t\tconsole.log('Login successful, token stored.');\r\n\t} catch (error) {\r\n\t\tconsole.error('Login failed', error);\r\n\t\tthrow new Error('Login failed');\r\n\t}\r\n};\r\n"],"mappings":"AAAA;;AAEA,SAASA,SAAS,QAAQ,oBAAoB;AAE9C,MAAMC,eAAe,GAAG,MAAM;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,KAAK,GAAG,MAAOC,WAA4B,IAAoB;EAC3E,IAAI;IACHC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC9BD,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEL,SAAS,CAAC;IACtC,MAAMM,QAAQ,GAAG,MAAMN,SAAS,CAAoB,GAAGC,eAAe,QAAQ,EAAE;MAC/EM,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEL;IACP,CAAC,CAAC;IACFM,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,QAAQ,CAACK,KAAK,CAAC;IACjDP,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAC/C,CAAC,CAAC,OAAOO,KAAK,EAAE;IACfR,OAAO,CAACQ,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACpC,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EAChC;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}