{"ast":null,"code":"import { apiClient } from '../utils/ApiClient';\n/**\r\n * Logs in a user by sending a POST request with the provided credentials.\r\n * Upon successful authentication, the function stores the JWT token in the\r\n * localStorage to be used in subsequent authenticated requests.\r\n *\r\n * @param {LoginRequestDTO} credentials - The login credentials (username and password).\r\n * @returns {Promise<void>} - A Promise that resolves to `void`. The function doesn't return any value.\r\n *\r\n * @throws {Error} - Throws an error if the login fails. The error is logged to the console.\r\n */\nexport const login = async credentials => {\n  try {\n    console.log('triggered login.');\n    const response = await apiClient('/login', {\n      method: 'POST',\n      body: credentials\n    });\n    localStorage.setItem('authToken', response.token);\n    console.log('Login successful, token stored.');\n  } catch (error) {\n    console.error('Login failed', error);\n    throw new Error('Login failed');\n  }\n};","map":{"version":3,"names":["apiClient","login","credentials","console","log","response","method","body","localStorage","setItem","token","error","Error"],"sources":["D:/Projects/ChronoSync/services/chronosync-fe/src/services/AuthService.ts"],"sourcesContent":["import { apiClient } from '../utils/ApiClient';\r\nimport { LoginRequestDTO } from '../dtos/LoginRequestDTO';\r\n\r\n/**\r\n * Logs in a user by sending a POST request with the provided credentials.\r\n * Upon successful authentication, the function stores the JWT token in the\r\n * localStorage to be used in subsequent authenticated requests.\r\n *\r\n * @param {LoginRequestDTO} credentials - The login credentials (username and password).\r\n * @returns {Promise<void>} - A Promise that resolves to `void`. The function doesn't return any value.\r\n *\r\n * @throws {Error} - Throws an error if the login fails. The error is logged to the console.\r\n */\r\nexport const login = async (credentials: LoginRequestDTO): Promise<void> => {\r\n\ttry {\r\n\t\tconsole.log('triggered login.');\r\n\t\tconst response = await apiClient<{ token: string }>('/login', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: credentials,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('authToken', response.token);\r\n\r\n\t\tconsole.log('Login successful, token stored.');\r\n\t} catch (error) {\r\n\t\tconsole.error('Login failed', error);\r\n\t\tthrow new Error('Login failed');\r\n\t}\r\n};\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,oBAAoB;AAG9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,KAAK,GAAG,MAAOC,WAA4B,IAAoB;EAC3E,IAAI;IACHC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAC/B,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAAoB,QAAQ,EAAE;MAC7DM,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEL;IACP,CAAC,CAAC;IAEFM,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,QAAQ,CAACK,KAAK,CAAC;IAEjDP,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAC/C,CAAC,CAAC,OAAOO,KAAK,EAAE;IACfR,OAAO,CAACQ,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACpC,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EAChC;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}